{"version":3,"sources":["components/Nav.js","components/Question.js","components/AnswerPane.js","components/ProgressBar.js","components/Tracker.js","components/GamePane.js","components/Footer.js","components/Loader.js","components/GameModal.js","components/Problem.js","App.js","serviceWorker.js","index.js"],"names":["Nav","props","className","onClick","name","Question","questionNumber","questionPrompt","defaultProps","hasTimer","AnswerPane","handleOptionChosen","bind","wasCorrect","this","onAnswer","choiceList","map","value","index","key","choiceIDs","choice","isCorrect","correctIndex","shouldReveal","answered","onChosen","React","Component","AnswerChoice","state","chosen","handleClick","setState","classExpr","ProgressBar","fillRef","createRef","paddedString","String","Math","ceil","timeRemaining","padStart","timerClassExpr","ref","fillNode","current","completion","allotedTime","toFixed","setAttribute","Tracker","results","i","questionCount","runningResults","length","push","number","isActive","currNumber","wasAnswered","currWasAnswered","itemProps","TrackerItem","GamePane","getNextQuestionState","handleQuestionAnswered","handleTimerTick","generatorState","nextQuestion","done","questionObject","choices","createChoices","incorrectAnswers","correctAnswer","currTimer","setInterval","IDs","floor","random","slice","splice","nextId","setTimeout","newState","score","reduce","accum","currentValue","endGame","clearInterval","concat","delayedQuestionUpdate","newTime","newTimer","newResults","prompt","Footer","_","href","Loader","GameModal","shouldDisplayTitle","totalQuestions","Problem","issue","message","triviaEndpoint","App","dataIsPending","error","showingTitleScreen","handleNavClick","fetchQuestions","handleEndOfGame","fetch","response","ok","Error","status","statusText","json","jsonData","questionGenerator","finalScore","gameData","questionItem","parser","DOMParser","decodedPrompt","parseFromString","documentElement","textContent","decodedAnswer","decodedIncorrectAnswers","next","content","gameIsRunning","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.11a4ff7c.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Nav.css';\n\nconst Nav = props => (\n    <nav className=\"Nav\">\n        <p className=\"Nav__Title\">Trivia!</p>\n        <div className=\"Nav__Button\" onClick={props.onClick}>\n            <ion-icon name=\"close\"></ion-icon>\n        </div>\n    </nav>\n);\n\nNav.propTypes = {\n    onClick: PropTypes.func.isRequired\n};\n\nexport default Nav;\n","import PropTypes from 'prop-types';\nimport './Question.css';\nimport React from 'react';\n\nconst Question = props => (\n    <div className=\"Question\">\n        <h1 className=\"Question__Header\">Question {props.questionNumber}</h1>\n        <p className=\"Question__Prompt\">{props.questionPrompt}</p>\n    </div>\n);\n\nQuestion.propTypes = {\n    questionNumber: PropTypes.number.isRequired,\n    questionPrompt: PropTypes.string.isRequired,\n    hasTimer: PropTypes.bool.isRequired,\n    allotedTime: PropTypes.number,\n    timeRemaining: PropTypes.number\n};\n\nQuestion.defaultProps = {\n    hasTimer: false\n};\n\nexport default Question;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './AnswerPane.css';\n\nclass AnswerPane extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.handleOptionChosen = this.handleOptionChosen.bind(this);\n    }\n\n    handleOptionChosen(wasCorrect) {\n        this.props.onAnswer(wasCorrect);\n    }\n\n    render() {\n        return (\n            <div className=\"AnswerPane\">\n                {this.props.choiceList.map((value, index) => (\n                    <AnswerChoice\n                        key={this.props.choiceIDs[index]}\n                        choice={value}\n                        isCorrect={index === this.props.correctIndex}\n                        shouldReveal={this.props.answered}\n                        onChosen={this.handleOptionChosen}\n                    />\n                ))}\n            </div>\n        );\n    }\n}\n\nAnswerPane.propTypes = {\n    choiceList: PropTypes.arrayOf(String).isRequired,\n    choiceIDs: PropTypes.arrayOf(Number).isRequired,\n    correctIndex: PropTypes.number.isRequired,\n    onAnswer: PropTypes.func.isRequired,\n    answered: PropTypes.bool.isRequired\n};\n\nclass AnswerChoice extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { chosen: false };\n        this.handleClick = this.handleClick.bind(this);\n    }\n\n    handleClick() {\n        if (!this.props.shouldReveal) {\n            this.props.onChosen(this.props.isCorrect);\n            this.setState({ chosen: true });\n        }\n    }\n\n    render() {\n        const shouldReveal = this.props.shouldReveal;\n        const isCorrect = this.props.isCorrect;\n\n        let classExpr = \"AnswerPane__Choice\";\n        if (!shouldReveal) classExpr += \" AnswerPane__Choice--Enabled\";\n        if (shouldReveal && isCorrect) classExpr += \" AnswerPane__Choice--Correct\";\n        else if (shouldReveal && !isCorrect && this.state.chosen)\n            classExpr += \" AnswerPane__Choice--Incorrect\";\n\n        return (\n            <div className={classExpr} onClick={this.handleClick}>\n                <p>{this.props.choice}</p>\n            </div>\n        );\n    }\n};\n\nAnswerChoice.propTypes = {\n    choice: PropTypes.string.isRequired,\n    isCorrect: PropTypes.bool.isRequired,\n    shouldReveal: PropTypes.bool.isRequired,\n    onChosen: PropTypes.func.isRequired\n}\n\nexport default AnswerPane;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './ProgressBar.css';\n\nclass ProgressBar extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.fillRef = React.createRef();\n    }\n\n    render() {\n        const paddedString = String(Math.ceil(this.props.timeRemaining)).padStart(2, \"0\");\n        let timerClassExpr = \"ProgressBar__Timer\";\n        if (this.props.timeRemaining <= 0) timerClassExpr += \" ProgressBar__Timer--End\";\n        return (\n            <div className=\"ProgressBar\">\n                <p className={timerClassExpr}>0:{paddedString}</p>\n                <div className=\"ProgressBar__Bar\">\n                    <div className=\"ProgressBar__Fill\" ref={this.fillRef}></div>\n                </div>\n            </div>\n        );\n    }\n\n    componentDidUpdate() {\n        const fillNode = this.fillRef.current;\n        let completion = (this.props.allotedTime - this.props.timeRemaining) / this.props.allotedTime;\n        completion *= 100;\n        completion = completion.toFixed(3);\n        fillNode.setAttribute(\"style\", `width: ${completion}%`);\n    }\n}\n\nProgressBar.propTypes = {\n    allotedTime: PropTypes.number.isRequired,\n    timeRemaining: PropTypes.number.isRequired\n};\n\nexport default ProgressBar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Tracker.css';\n\nclass Tracker extends React.Component {\n    render() {\n        let results = [];\n        for (let i = 0; i < this.props.questionCount; i++) {\n            if (i >= this.props.runningResults.length) {\n                // Append default (unanswered, inactive) item state\n                results.push({\n                    number: i + 1,\n                    isActive: i + 1 === this.props.currNumber,\n                    wasAnswered: false\n                });\n            } else {\n                // Append given running item state\n                const wasAnswered = i + 1 < this.props.currNumber || \n                    (i + 1 === this.props.currNumber && this.props.currWasAnswered);\n                results.push({\n                    number: i + 1,\n                    isActive: i + 1 === this.props.currNumber,\n                    wasAnswered: wasAnswered,\n                    wasCorrect: this.props.runningResults[i]\n                });\n            }\n        }\n\n        return (\n            <aside className=\"Tracker\">\n                {results.map(itemProps => <TrackerItem {...itemProps} />)}\n            </aside>\n        );\n    }\n}\n\nTracker.propTypes = {\n    currNumber: PropTypes.number.isRequired,\n    runningResults: PropTypes.arrayOf(Boolean).isRequired,\n    questionCount: PropTypes.number.isRequired,\n    currWasAnswered: PropTypes.bool.isRequired\n};\n\nconst TrackerItem = props => {\n    let classExpr = \"Tracker__Item\";\n    if (props.isActive && !props.wasAnswered) classExpr += \" Tracker__Item--Active\";\n    else if(props.wasAnswered && props.wasCorrect) classExpr += \" Tracker__Item--Correct\";\n    else if(props.wasAnswered && !props.wasCorrect) classExpr += \" Tracker__Item--Incorrect\";\n    else classExpr += \" Tracker__Item--Unvisited\";\n\n    return (\n        <div className={classExpr}>\n            <p>Q{props.number}</p>\n            {props.isActive && <div className=\"Tracker__Tab\"></div>}\n        </div>\n    );\n};\n\nTrackerItem.propTypes = {\n    number: PropTypes.number.isRequired,\n    isActive: PropTypes.bool.isRequired,\n    wasAnswered: PropTypes.bool.isRequired,\n    wasCorrect: PropTypes.bool\n}\n\nexport default Tracker;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport nextId from 'react-id-generator';\nimport './GamePane.css';\nimport Question from './Question';\nimport AnswerPane from './AnswerPane'\nimport ProgressBar from './ProgressBar';\nimport Tracker from './Tracker';\n\nconst allotedTime = 10;\n\nclass GamePane extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {runningResults: []}\n        this.getNextQuestionState = this.getNextQuestionState.bind(this);\n        this.handleQuestionAnswered = this.handleQuestionAnswered.bind(this);\n        this.handleTimerTick = this.handleTimerTick.bind(this);\n    }\n\n    getNextQuestionState() {\n        // Set timer, request and init question\n        const generatorState = this.props.nextQuestion();\n        if (generatorState.done) {\n            return null;\n        } else {\n            const questionObject = generatorState.value;\n            const choices = this.createChoices(questionObject.incorrectAnswers, questionObject.correctAnswer);\n            let newState = {\n                questionObject,\n                timeRemaining: allotedTime,\n                currTimer: setInterval(this.handleTimerTick, 16.67),   // ~60 fps\n                choiceList: choices.choiceList,\n                correctIndex: choices.correctIndex,\n                choiceIDs: choices.IDs,\n                answered: false\n            };\n            return newState;\n        }\n    }\n\n    createChoices(incorrectAnswers, correctAnswer) {\n        // Init the choices\n        let correctIndex = Math.floor(Math.random() * (incorrectAnswers.length + 1));\n        let choiceList = incorrectAnswers.slice();\n        choiceList.splice(correctIndex, 0, correctAnswer);\n        let IDs = [];\n        for (let i = 0; i < choiceList.length; i++) IDs[i] = nextId();\n        return { choiceList, correctIndex, IDs };\n    }\n\n    delayedQuestionUpdate() {\n        setTimeout(() => {\n            const newState = this.getNextQuestionState();\n            if (!newState) {\n                // Time to end the game\n                const score = this.state.runningResults.reduce((accum, currentValue) => {\n                    return currentValue ? accum + 1 : accum;\n                }, 0);\n                this.props.endGame(score);\n            } else {\n                this.setState(newState);\n            }   \n        }, 2000);\n    }\n\n    handleQuestionAnswered(wasCorrect) {\n        // Otherwise, edge case where the time has already run out\n        if (!this.state.answered) {\n            // Clear timer, update UI\n            clearInterval(this.state.currTimer);\n            this.setState({ \n                currTimer: null, \n                answered: true, \n                runningResults: this.state.runningResults.concat([wasCorrect])\n            });\n\n            // Queue up next question\n            this.delayedQuestionUpdate();\n        }\n    }\n\n    handleTimerTick() {\n        // Otherwise, edge case where the user has already answered\n        if (!this.state.answered) {\n            const newTime = this.state.timeRemaining - 0.01617;\n            let newTimer = this.state.currTimer;\n            let answered = false;\n            let newResults = this.state.runningResults;\n            if (newTime <= 0) {\n                clearInterval(this.state.currTimer);\n                newTimer = null;\n                answered = true;\n                newResults = this.state.runningResults.concat([false]);\n\n                // Queue up next question\n                this.delayedQuestionUpdate();\n            }\n            this.setState({ \n                timeRemaining: newTime, \n                currTimer: newTimer, \n                answered,\n                runningResults: newResults\n            });\n        }\n    }\n\n    componentWillMount() {\n        // Init first question\n        this.setState(this.getNextQuestionState());\n    }\n\n    render() {\n        return (\n            <main className=\"GamePane\">\n                <div className=\"GamePane__QA\">\n                    <Question\n                        questionNumber={this.state.questionObject.number}\n                        questionPrompt={this.state.questionObject.prompt}\n                    />\n                    <AnswerPane\n                        choiceList={this.state.choiceList}\n                        choiceIDs={this.state.choiceIDs}\n                        correctIndex={this.state.correctIndex}\n                        onAnswer={this.handleQuestionAnswered}\n                        answered={this.state.answered}\n                    />\n                    <ProgressBar allotedTime={allotedTime} timeRemaining={this.state.timeRemaining} />\n                </div>\n                <Tracker \n                    currNumber={this.state.questionObject.number} \n                    runningResults={this.state.runningResults} \n                    questionCount={this.props.questionCount} \n                    currWasAnswered={this.state.answered}\n                />\n            </main>\n        );\n    }\n\n    componentWillUnmount() {\n        // Stop any running timers\n        if (this.state.currTimer) clearInterval(this.state.currTimer);\n    }\n}\n\nGamePane.propTypes = {\n    nextQuestion: PropTypes.func.isRequired,\n    questionCount: PropTypes.number.isRequired,\n    endGame: PropTypes.func.isRequired\n};\n\nexport default GamePane;\n","import React from 'react';\nimport './Footer.css';\n\nconst Footer = _ => (\n    <footer className=\"Footer\">\n        <a href=\"https://ionicons.com\">\n            <ion-icon name=\"logo-ionic\"></ion-icon>\n            <p>Icons by Ionic</p>\n        </a>\n        <a href=\"https://github.com/Deanfost/react-trivia\">\n            <ion-icon name=\"logo-github\"></ion-icon>\n            <p>View on Github</p>\n        </a>\n        <a href=\"https://opentdb.com\">\n            <ion-icon name=\"server\"></ion-icon>\n            <p>Trivia by OpenTDB</p>\n        </a>\n    </footer>\n);\n\nexport default Footer;\n","import React from 'react';\nimport './Loader.css';\n\nconst Loader = _ => (\n    <div className=\"Loader\">\n        <div className=\"Loader__Spinner\">\n            <div className=\"Loader__Circle\"></div>\n            <div className=\"Loader__Row\">\n                <div className=\"Loader__Circle\"></div>\n                <div className=\"Loader__Circle\"></div>\n            </div>\n            <div className=\"Loader__Circle\"></div>\n        </div>\n        <p className=\"Loader__Message\">Loading a new game...</p>\n    </div>\n);\n\nexport default Loader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './GameModal.css';\n\nconst GameModal  = props => {\n    if (props.shouldDisplayTitle) {\n        return (\n            <div className=\"GameFinished\">\n                <h1 className=\"GameFinished__Score\">Trivia!</h1>\n                <p className=\"GameFinished__Caption\">General knowledge</p>\n                <div className=\"GameFinished__Button\" onClick={props.onClick}>Start game</div>\n            </div>\n        );\n    } else {\n        return (\n            <div className=\"GameFinished\">\n                <p className=\"GameFinished__Caption\">Game finished!</p>\n                <h1 className=\"GameFinished__Score\">Your score: {props.score}/{props.totalQuestions}</h1>\n                <div className=\"GameFinished__Button\" onClick={props.onClick}>Play again</div>\n            </div>\n        );\n    }\n    \n};\n\nGameModal.propTypes = {\n    shouldDisplayTitle: PropTypes.bool.isRequired,\n    score: PropTypes.number,\n    totalQuestions: PropTypes.number,\n    onClick: PropTypes.func.isRequired\n};\n\nexport default GameModal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Problem.css';\n\nconst Problem = props => (\n    <div className=\"Problem\">\n        <p className=\"Problem__Oops\">Something went wrong!</p>\n        <p className=\"Problem__Issue\">{props.issue.message}</p>\n        <div className=\"Problem__Button\" onClick={props.onClick}>Try again</div>\n    </div>\n);\n\nProblem.propTypes = {\n    issue: PropTypes.instanceOf(Error).isRequired,\n    onClick: PropTypes.func.isRequired\n};\n\nexport default Problem;\n","import React from 'react';\nimport './App.css';\nimport Nav from './components/Nav';\nimport GamePane from './components/GamePane';\nimport Footer from './components/Footer';\nimport Loader from './components/Loader';\nimport GameModal from './components/GameModal';\nimport Problem from './components/Problem';\n\nconst questionCount = 10;\nconst triviaEndpoint = `http://opentdb.com/api.php?amount=${questionCount}&category=9&difficulty=easy`;\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = { dataIsPending: false, error: null, showingTitleScreen: true};\n\n\t\tthis.handleNavClick = this.handleNavClick.bind(this);\n\t\tthis.fetchQuestions = this.fetchQuestions.bind(this);\n\t\tthis.nextQuestion = this.nextQuestion.bind(this);\n\t\tthis.handleEndOfGame = this.handleEndOfGame.bind(this);\n\t}\n\n\tasync fetchQuestions() {\n\t\tthis.setState({ dataIsPending: true, error: null, showingTitleScreen: false});\n\t\t// Poll the new game data\n\t\ttry {\n\t\t\tlet response = await fetch(triviaEndpoint);\n\t\t\tif (!response.ok) \n\t\t\t\tthrow new Error(`Fetch operation failed, received error code: (${response.status}) ${response.statusText}`);\n\t\t\t\n\t\t\t// Parse the data, last error checks\n\t\t\tlet jsonData = await response.json();\n\t\t\tif (jsonData[\"response_code\"] !== 0) \n\t\t\t\tthrow new Error(`API returned error code: ${jsonData[\"response_code\"]}`);\n\n\t\t\t// Bind question generator\n\t\t\tthis.setState({\n\t\t\t\tdataIsPending: false,\n\t\t\t\tquestionGenerator: this.questionGenerator(jsonData.results),\n\t\t\t\tfinalScore: null\n\t\t\t});\n\t\t\t\n\t\t} catch (error) {\n\t\t\tthis.setState({ dataIsPending: false, error})\n\t\t}\n\t}\n\n\t* questionGenerator(gameData) {\n\t\tfor (let i = 0; i < gameData.length; i++) {\n\t\t\tlet questionItem = gameData[i];\n\n\t\t\t// Parse HTML entities\n\t\t\tconst parser = new DOMParser();\n\t\t\tconst decodedPrompt = parser.parseFromString(questionItem[\"question\"], \"text/html\")\n\t\t\t\t.documentElement.textContent;\n\t\t\tconst decodedAnswer = parser.parseFromString(questionItem[\"correct_answer\"], \"text/html\")\n\t\t\t\t.documentElement.textContent;\n\t\t\tconst decodedIncorrectAnswers = questionItem[\"incorrect_answers\"].map(value => {\n\t\t\t\treturn parser.parseFromString(value, \"text/html\").documentElement.textContent;\n\t\t\t});\n\t\t\t\n\t\t\t// Package and send\n\t\t\tlet nextQuestion = {\n\t\t\t\tnumber: i + 1,\n\t\t\t\tprompt: decodedPrompt,\n\t\t\t\tcorrectAnswer: decodedAnswer,\n\t\t\t\tincorrectAnswers: decodedIncorrectAnswers\n\t\t\t};\n\t\t\tyield nextQuestion;\n\t\t};\n\t}\n\n\tnextQuestion() {\n\t\treturn this.state.questionGenerator.next();\n\t}\n\n\thandleNavClick() {\n\t\tthis.setState({showingTitleScreen: true});\n\t}\n\n\thandleEndOfGame(finalScore) {\n\t\tthis.setState({finalScore});\n\t}\t\n\n\tstatic getDerivedStateFromError(error) {\n\t\tthis.setState({error});\n\t}\n\n\trender() {\n\t\tlet content;\n\t\tlet classExpr = \"App\";\n\t\tconst gameIsRunning = !this.state.dataIsPending && \n\t\t\t!this.state.error && this.state.finalScore === null && \n\t\t\t!this.state.showingTitleScreen;\n\t\tif (this.state.showingTitleScreen) {\n\t\t\t// Title screen\n\t\t\tcontent = <GameModal \n\t\t\t\t\tshouldDisplayTitle={true}\n\t\t\t\t\tonClick={this.fetchQuestions} \n\t\t\t\t\t/>;\n\t\t\tclassExpr += \" App--Centered\";\n\t\t} else if (this.state.dataIsPending) {\n\t\t\t// Loading data\n\t\t\tcontent = <Loader />;\n\t\t\tclassExpr += \" App--Centered\";\n\t\t} else if (gameIsRunning) {\n\t\t\t// Game is running\n\t\t\tcontent = <GamePane \n\t\t\t\t\tnextQuestion={this.nextQuestion} \n\t\t\t\t\tquestionCount={questionCount} \n\t\t\t\t\tendGame={this.handleEndOfGame} \n\t\t\t\t/>;\n\t\t} else if (!this.state.dataIsPending && !this.state.error && this.state.finalScore !== null) {\n\t\t\t// Game is over\n\t\t\tcontent = <GameModal \n\t\t\t\t\tshouldDisplayTitle={false}\n\t\t\t\t\tscore={this.state.finalScore} \n\t\t\t\t\ttotalQuestions={questionCount} \n\t\t\t\t\tonClick={this.fetchQuestions} \n\t\t\t\t\t/>;\n\t\t\tclassExpr += \" App--Centered\";\n\t\t} else {\n\t\t\t// There was an issue\n\t\t\tcontent = <Problem issue={this.state.error} onClick={this.fetchQuestions} />;\n\t\t\tclassExpr += \" App--Centered\";\n\t\t}\n\n\t\treturn (\n\t\t\t<div className={classExpr}>\n\t\t\t\t{gameIsRunning && <Nav onClick={this.handleNavClick} />}\n\t\t\t\t\t{content}\n\t\t\t\t<Footer />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}