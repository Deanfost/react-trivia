(this["webpackJsonpreact-trivia"]=this["webpackJsonpreact-trivia"]||[]).push([[0],[,,,,,,,,,,,function(e,t,n){e.exports=n(28)},,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(8),i=n.n(s),c=(n(16),n(6)),o=n.n(c),u=n(9),l=n(2),h=n(3),m=n(1),d=n(5),p=n(4),v=(n(18),n(19),function(e){return r.a.createElement("nav",{className:"Nav"},r.a.createElement("p",{className:"Nav__Title"},"Trivia!"),r.a.createElement("div",{className:"Nav__Button",onClick:e.onClick},r.a.createElement("ion-icon",{name:"refresh"})))}),f=n(10),b=n.n(f),k=(n(20),n(21),function(e){return r.a.createElement("div",{className:"Question"},r.a.createElement("h1",{className:"Question__Header"},"Question ",e.questionNumber),r.a.createElement("p",{className:"Question__Prompt"},e.questionPrompt))});k.defaultProps={hasTimer:!1};var w=k,_=(n(22),function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleOptionChosen=a.handleOptionChosen.bind(Object(m.a)(a)),a}return Object(h.a)(n,[{key:"handleOptionChosen",value:function(e){this.props.onAnswer(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"AnswerPane"},this.props.choiceList.map((function(t,n){return r.a.createElement(g,{key:e.props.choiceIDs[n],choice:t,isCorrect:n===e.props.correctIndex,shouldReveal:e.props.answered,onChosen:e.handleOptionChosen})})))}}]),n}(r.a.Component)),g=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={chosen:!1},a.handleClick=a.handleClick.bind(Object(m.a)(a)),a}return Object(h.a)(n,[{key:"handleClick",value:function(){this.props.shouldReveal||(this.props.onChosen(this.props.isCorrect),this.setState({chosen:!0}))}},{key:"render",value:function(){var e=this.props.shouldReveal,t=this.props.isCorrect,n="AnswerPane__Choice";return e||(n+=" AnswerPane__Choice--Enabled"),e&&t?n+=" AnswerPane__Choice--Correct":e&&!t&&this.state.chosen&&(n+=" AnswerPane__Choice--Incorrect"),r.a.createElement("div",{className:n,onClick:this.handleClick},r.a.createElement("p",null,this.props.choice))}}]),n}(r.a.Component),E=_,C=(n(23),function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).fillRef=r.a.createRef(),a}return Object(h.a)(n,[{key:"render",value:function(){var e=String(Math.ceil(this.props.timeRemaining)).padStart(2,"0"),t="ProgressBar__Timer";return this.props.timeRemaining<=0&&(t+=" ProgressBar__Timer--End"),r.a.createElement("div",{className:"ProgressBar"},r.a.createElement("p",{className:t},"0:",e),r.a.createElement("div",{className:"ProgressBar__Bar"},r.a.createElement("div",{className:"ProgressBar__Fill",ref:this.fillRef})))}},{key:"componentDidUpdate",value:function(){var e=this.fillRef.current,t=(this.props.allotedTime-this.props.timeRemaining)/this.props.allotedTime;t=(t*=100).toFixed(3),e.setAttribute("style","width: ".concat(t,"%"))}}]),n}(r.a.Component)),N=(n(24),function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){for(var e=[],t=0;t<this.props.questionCount;t++)if(t>=this.props.runningResults.length)e.push({number:t+1,isActive:t+1===this.props.currNumber,wasAnswered:!1});else{var n=t+1<this.props.currNumber||t+1===this.props.currNumber&&this.props.currWasAnswered;e.push({number:t+1,isActive:t+1===this.props.currNumber,wasAnswered:n,wasCorrect:this.props.runningResults[t]})}return r.a.createElement("aside",{className:"Tracker"},e.map((function(e){return r.a.createElement(O,e)})))}}]),n}(r.a.Component)),O=function(e){var t="Tracker__Item";return e.isActive&&!e.wasAnswered?t+=" Tracker__Item--Active":e.wasAnswered&&e.wasCorrect?t+=" Tracker__Item--Correct":e.wasAnswered&&!e.wasCorrect?t+=" Tracker__Item--Incorrect":t+=" Tracker__Item--Unvisited",r.a.createElement("div",{className:t},r.a.createElement("p",null,"Q",e.number),e.isActive&&r.a.createElement("div",{className:"Tracker__Tab"}))},j=N,y=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={runningResults:[]},a.getNextQuestionState=a.getNextQuestionState.bind(Object(m.a)(a)),a.handleQuestionAnswered=a.handleQuestionAnswered.bind(Object(m.a)(a)),a.handleTimerTick=a.handleTimerTick.bind(Object(m.a)(a)),a}return Object(h.a)(n,[{key:"getNextQuestionState",value:function(){var e=this.props.nextQuestion(),t=this.createChoices(e.incorrectAnswers,e.correctAnswer);return{questionObject:e,timeRemaining:10,currTimer:setInterval(this.handleTimerTick,16.67),choiceList:t.choiceList,correctIndex:t.correctIndex,choiceIDs:t.IDs,answered:!1}}},{key:"createChoices",value:function(e,t){var n=Math.floor(Math.random()*(e.length+1)),a=e.slice();a.splice(n,0,t);for(var r=[],s=0;s<a.length;s++)r[s]=b()();return{choiceList:a,correctIndex:n,IDs:r}}},{key:"delayedQuestionUpdate",value:function(){var e=this;setTimeout((function(){e.setState(e.getNextQuestionState())}),2e3)}},{key:"handleQuestionAnswered",value:function(e){this.state.answered||(clearInterval(this.state.currTimer),this.setState({currTimer:null,answered:!0,runningResults:this.state.runningResults.concat([e])}),this.delayedQuestionUpdate())}},{key:"handleTimerTick",value:function(){if(!this.state.answered){var e=this.state.timeRemaining-.01617,t=this.state.currTimer,n=!1,a=this.state.runningResults;e<=0&&(clearInterval(this.state.currTimer),t=null,n=!0,a=this.state.runningResults.concat([!1]),this.delayedQuestionUpdate()),this.setState({timeRemaining:e,currTimer:t,answered:n,runningResults:a})}}},{key:"componentWillMount",value:function(){this.setState(this.getNextQuestionState())}},{key:"render",value:function(){return r.a.createElement("main",{className:"GamePane"},r.a.createElement("div",{className:"GamePane__QA"},r.a.createElement(w,{questionNumber:this.state.questionObject.number,questionPrompt:this.state.questionObject.prompt}),r.a.createElement(E,{choiceList:this.state.choiceList,choiceIDs:this.state.choiceIDs,correctIndex:this.state.correctIndex,onAnswer:this.handleQuestionAnswered,answered:this.state.answered}),r.a.createElement(C,{allotedTime:10,timeRemaining:this.state.timeRemaining})),r.a.createElement(j,{currNumber:this.state.questionObject.number,runningResults:this.state.runningResults,questionCount:this.props.questionCount,currWasAnswered:this.state.answered}))}},{key:"componentWillUnmount",value:function(){this.state.currTimer&&clearInterval(this.state.currTimer)}}]),n}(r.a.Component),T=(n(25),function(e){return r.a.createElement("footer",{className:"Footer"},r.a.createElement("a",{href:"https://github.com/Deanfost/react-trivia"},r.a.createElement("ion-icon",{name:"logo-github"}),r.a.createElement("p",null,"View on Github")),r.a.createElement("a",{href:"https://ionicons.com"},r.a.createElement("ion-icon",{name:"logo-github"}),r.a.createElement("p",null,"Icons by Ionic")))}),A=(n(26),function(e){return r.a.createElement("div",{className:"Loader"},r.a.createElement("div",{className:"Loader__Spinner"},r.a.createElement("div",{className:"Loader__Circle"}),r.a.createElement("div",{className:"Loader__Row"},r.a.createElement("div",{className:"Loader__Circle"}),r.a.createElement("div",{className:"Loader__Circle"})),r.a.createElement("div",{className:"Loader__Circle"})),r.a.createElement("p",{className:"Loader__Message"},"Loading a new game..."))}),x=(n(27),function(e){return r.a.createElement("div",{className:"Problem"},r.a.createElement("p",{className:"Problem__Oops"},"Something went wrong!"),r.a.createElement("p",{className:"Problem__Issue"},e.issue.message),r.a.createElement("div",{className:"Problem__Button",onClick:e.onClick},"Try again"))}),Q=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={pending:!0,error:null},a.handleNavClick=a.handleNavClick.bind(Object(m.a)(a)),a.fetchQuestions=a.fetchQuestions.bind(Object(m.a)(a)),a.nextQuestion=a.nextQuestion.bind(Object(m.a)(a)),a}return Object(h.a)(n,[{key:"fetchQuestions",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({pending:!0,error:null}),e.prev=1,e.next=4,fetch("https://opentdb.com/api.php?amount=10&category=9&difficulty=easy");case 4:if(!(t=e.sent).ok){e.next=12;break}return e.next=8,t.json();case 8:n=e.sent,this.setState({pending:!1,questionGenerator:this.questionGenerator(n.results)}),e.next=13;break;case 12:throw new Error("Fetch operation failed, received error code: ".concat(t.status));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),this.setState({pending:!1,error:e.t0});case 18:case"end":return e.stop()}}),e,this,[[1,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"questionGenerator",value:o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.length)){e.next=9;break}return a=t[n],r={number:n+1,prompt:a.question,correctAnswer:a.correct_answer,incorrectAnswers:a.incorrect_answers},e.next=6,r;case 6:n++,e.next=1;break;case 9:case 10:case"end":return e.stop()}}),e)}))},{key:"handleNavClick",value:function(){this.fetchQuestions()}},{key:"nextQuestion",value:function(){return this.state.questionGenerator.next().value}},{key:"componentDidMount",value:function(){this.fetchQuestions()}},{key:"render",value:function(){var e,t="App";return this.state.pending||this.state.error?this.state.pending?(e=r.a.createElement(A,null),t+=" App--Centered"):(e=r.a.createElement(x,{issue:this.state.error,onClick:this.fetchQuestions}),t+=" App--Centered"):e=r.a.createElement(y,{nextQuestion:this.nextQuestion,questionCount:10}),r.a.createElement("div",{className:t},r.a.createElement(v,{onClick:this.handleNavClick}),e,r.a.createElement(T,null))}}],[{key:"getDerivedStateFromError",value:function(e){this.setState({error:e})}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[11,1,2]]]);
//# sourceMappingURL=main.ab242fe5.chunk.js.map